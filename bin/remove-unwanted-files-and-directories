#!/usr/bin/env bash

# Remove unwanted files and directories from the system, potentially freeing up
# disk space.

# Define arrays for paths and file patterns.
paths=(
    # Recycle bin.
    "$HOME/.local/"

    # Emacs related directories.
    "$HOME/.emacs.d/auctex-auto-generated-info/"
    "$HOME/.emacs.d/auto-save-list/"
    "$HOME/.emacs.d/backups/"
    "$HOME/.emacs.d/url/"

    # Gnus cache directory.
    "$HOME/.gnus.d/cache/nnimap"

    # Dotfiles related directories.
    "$HOME/.dotfiles/plugins/oh-my-zsh/cache/"
)

patterns=(
    'nul'
    'null'
    '*.exe.stackdump'
)

# Remove unwanted files and directories from defined paths.
for path in "${paths[@]}"; do
    find "$path" -mindepth 1 -maxdepth 1 -exec rm -rf -v {} +
done

# Remove specific files.
rm -v "$HOME/.emacs.d/projectile.cache"
rm -v "$HOME/.lesshst"

# Remove files matching patterns with sudo to handle permission denied errors.
for pattern in "${patterns[@]}"; do
    sudo find "$HOME" -iname "$pattern" -exec rm -rf -v {} +
done
